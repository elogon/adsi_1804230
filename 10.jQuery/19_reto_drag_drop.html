<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Reto (Drag/Drop)</title>
	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="css/animate.css">
	<style>
		section.columns{
			background-color: #4f5c6e;
			padding: 4px;
			margin: 20px auto;
			width: 369px; 
		}
		section.columns aside.column{
			display: inline-block;
			vertical-align: top;
			width: 120px;
		}
		aside.column h4{
			background-color: #353d4b;
			color:#fff;
			padding: 10px;
			margin: 0px;
		}
		aside.column:nth-child(1) h4{
			border-bottom: 4px solid #35f442;
		}
		aside.column:nth-child(2) h4{
			border-bottom: 4px solid #f78a14;
		}
		aside.column:nth-child(3) h4{
			border-bottom: 4px solid #ff232f;
		}
		aside.column div{
			background-color: #373737;
			height: 450px;
		}
		aside.column div.pk{
			height: 150px;
			position: relative;
			width: 120px;
		}
		aside.column div.pk.pk11{
			background:url(imgs/pokemons/pk11.png) no-repeat center;
		}
		aside.column div.pk.pk21{
			background:url(imgs/pokemons/pk21.png) no-repeat center;
		}
		aside.column div.pk.pk31{
			background:url(imgs/pokemons/pk31.png) no-repeat center;
		}
		aside.column div.pk.pk12{
			background:url(imgs/pokemons/pk12.png) no-repeat center;
		}
		aside.column div.pk.pk22{
			background:url(imgs/pokemons/pk22.png) no-repeat center;
		}
		aside.column div.pk.pk32{
			background:url(imgs/pokemons/pk32.png) no-repeat center;
		}
		aside.column div.pk.pk13{
			background:url(imgs/pokemons/pk13.png) no-repeat center;
		}
		aside.column div.pk.pk23{
			background:url(imgs/pokemons/pk23.png) no-repeat center;
		}
		aside.column div.pk.pk33{
			background:url(imgs/pokemons/pk33.png) no-repeat center;
		}
	</style>
</head>
<body>
	<main>
		<h1>Reto (Drag/Drop)</h1>
		<section class="columns">
			<aside class="column">
				<h4>Evolucion 1</h4>
				<div class=" stage stage1">
					<div class="pk pk11"></div>
					<div class="pk pk21"></div>
					<div class="pk pk31"></div>
				</div>
			</aside>
			<aside class="column">
				<h4>Evolucion 2</h4>
				<div class="stage stage2">
					
				</div>
			</aside>
			<aside class="column">
				<h4>Evolucion 3</h4>
				<div class="stage stage3">
		
				</div>
			</aside>
		</section>
	</main>
	<script src="js/jquery-3.4.1.js"></script>
	<script src="js/jquery-ui.min.js"></script>
	<script>
		$(document).ready(function() {
			$('.pk').draggable({
				containment: '.columns',
				cursor: 'move',
				snap: 'stage',
				snapMode: 'inner',
				revert: 'invalid'
			});
	
			$('.stage2').droppable({
				accept: '.pk11,.pk21,.pk31',
				drop: function(evt, ui){
					var pDrag = ui.draggable[0];
					if ($(pDrag).hasClass('pk11')) {
						$(pDrag).removeClass('pk11');
						$(pDrag).addClass('pk12');
					}else if($(pDrag).hasClass('pk21')){
						$(pDrag).removeClass('pk21');
						$(pDrag).addClass('pk22');
					}else if($(pDrag).hasClass('pk31')){
						$(pDrag).removeClass('pk31');
						$(pDrag).addClass('pk32');
					}	
				}
			});
			
			$('.stage3').droppable({
				accept: '.pk12,.pk22,.pk32',
				drop: function(evt, ui){
					var pDrag = ui.draggable[0];
					if ($(pDrag).hasClass('pk12')) {
						$(pDrag).removeClass('pk12');
						$(pDrag).addClass('pk13');
					}else if($(pDrag).hasClass('pk22')){
						$(pDrag).removeClass('pk22');
						$(pDrag).addClass('pk23');
					}else if($(pDrag).hasClass('pk32')){
						$(pDrag).removeClass('pk32');
						$(pDrag).addClass('pk33');
					}	
				}
			});
		});
	</script>
</body>
</html>